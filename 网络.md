# 面经补充

##  32、端口有效范围是多少到多少？

0-1023为知名端口号，比如其中HTTP是80，FTP是20（数据端口）、21（控制端口）

UDP和TCP报头使用`两个字节`存放端口号，所以端口号的有效范围是从`0到65535`。动态端口的范围是从1024到65535

##  36、GET 方法参数写法是固定的吗？

在约定中，我们的参数是写在 ? 后面，用 & 分割。

我们知道，解析报文的过程是通过获取` TCP 数据`，用`正则`等工具从数据中获取` Header 和 Body`，从而提取参数。

比如`header请求头`中添加`token`，来验证用户`是否登录`等权限问题。

也就是说，我们可以自己约定参数的写法，只要服务端能够解释出来就行，万变不离其宗

## 37、GET 方法的长度限制是怎么回事？

网络上都会提到浏览器地址栏输入的参数是有限的。

首先说明一点，`HTTP 协议没有 Body 和 URL 的长度限制`，对 URL 限制的大多是浏览器和服务器的原因。

浏览器原因就不说了，`服务器是因为处理长 URL 要消耗比较多的资源`，为了`性能和安全（防止恶意构造长 URL 来攻击）`考虑，会给 URL 长度加限制

##  38、POST 方法比 GET 方法安全？

有人说POST 比 GET 安全，因为数据在地址栏上不可见。

然而，从传输的角度来说，他们都是不安全的，因为 HTTP 在网络上是明文传输的，只要在网络节点上捉包，就能完整地获取数据报文。

要想安全传输，就只有加密，也就是 HTTPS。

##  39、POST 方法会产生两个 TCP 数据包？你了解吗？

有些文章中提到，POST 会将 header 和 body 分开发送，先发送 header，服务端返回 100 状态码再发送 body。

HTTP 协议中没有明确说明 POST 会产生两个 TCP 数据包，而且实际测试(Chrome)发现，header 和 body 不会分开发送。

所以，header 和 body 分开发送是部分浏览器或框架的请求方法，不属于 post 必然行为。

## [#](https://interviewguide.cn/notes/03-hunting_job/02-interview/03-02-net.html#_40、session是什么)40、Session是什么？

除了可以将用户信息通过 Cookie 存储在用户浏览器中，也可以利用 Session 存储在服务器端，存储在服务器端的信息更加安全。

Session 可以存储在服务器上的文件、数据库或者内存中。也可以将 Session 存储在 Redis 这种内存型数据库中，效率会更高。

## 49、网络的七层/五层模型主要的协议有哪些？

![img](D:\A_Document\Routine_Document\实习\学习\202205072300758.png)

## 50、TCP是什么？

TCP（Transmission Control Protocol 传输控制协议）是一种面向`连接的、可靠的、基于字节流`的`传输层`通信协议。

| 协议  | 名称               | 默认端口 | 底层协议                                                  |
| ----- | ------------------ | -------- | --------------------------------------------------------- |
| HTTP  | 超文本传输协议     | 80       | TCP                                                       |
| HTTPS | 超文本传输安全协议 | 443      | TCP                                                       |
| DNS   | 域名解析服务       | 53       | 服务器间进行域传输的时候用TCP 客户端查询DNS服务器时用 UDP |

## TCP的拥塞控制是如何实现的？

流量控制、拥塞控制

[『面试问答』：TCP的拥塞控制是如何实现的？_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1xC4y1S78T/?spm_id_from=333.337.search-card.all.click&vd_source=c4b26319211bc9ccc5ba3a0a22916e39)

![image-20240329125955782](D:\A_Document\Routine_Document\实习\学习\image-20240329125955782.png)

![image-20240329130034485](D:\A_Document\Routine_Document\实习\学习\image-20240329130034485.png)

## TCP和UDP的区别是什么？

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329132440322.png" alt="image-20240329132440322" style="zoom:50%;" />

## HTTP和HTTPS的区别是什么？

![image-20240329132329129](D:\A_Document\Routine_Document\实习\学习\image-20240329132329129.png)

## OSI七层模型和TCP/IP四层模型的区别是什么？

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329132821615.png" alt="image-20240329132821615" style="zoom: 33%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329132920452.png" alt="image-20240329132920452" style="zoom:33%;" />

## HTTP方法GET、POST、PUT和PATCH的区别是什么？

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329133509210.png" alt="image-20240329133509210" style="zoom:50%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329133425735.png" alt="image-20240329133425735" style="zoom:50%;" />

## TCP为什么需要三次握手？

客户端和服务端都是全双工的，即可发送也可接受，所以经过三次握手去`确认双方的接受发送能力`都是正常的，从而保证双方进行可靠的通信。两次握手，服务端不能确认客户端接收到了自己发送的数据。

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329133750938.png" alt="image-20240329133750938" style="zoom:50%;" />

![image-20240329134134459](D:\A_Document\Routine_Document\实习\学习\image-20240329134134459.png)

![image-20240329134342382](D:\A_Document\Routine_Document\实习\学习\image-20240329134342382.png)

## TCP为什么需要四次挥手？

因为是全双工通信。一端提出结束发送请求后，还具有接受能力。

![image-20240329134503970](D:\A_Document\Routine_Document\实习\学习\image-20240329134503970.png)

![image-20240329134617366](D:\A_Document\Routine_Document\实习\学习\image-20240329134617366.png)

## HTTP和RPC的区别是什么？

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329134904348.png" alt="image-20240329134904348" style="zoom:50%;" />

## HTTP协议中Cookie和Session的区别是什么？

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329135202981.png" alt="image-20240329135202981" style="zoom: 50%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329135326042.png" alt="image-20240329135326042" style="zoom: 33%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329135414094.png" alt="image-20240329135414094" style="zoom:80%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329135502413.png" alt="image-20240329135502413" style="zoom:80%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329135551274.png" alt="image-20240329135551274" style="zoom:80%;" />

## 浏览器从输入URL到展示页面，经历了哪些过程？

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329135737191.png" alt="image-20240329135737191" style="zoom:67%;" />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329140523272.png" alt="image-20240329140523272" style="zoom:50%;" />

![image-20240329140421652](D:\A_Document\Routine_Document\实习\学习\image-20240329140421652.png)

![image-20240329140643027](D:\A_Document\Routine_Document\实习\学习\image-20240329140643027.png)

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329140925344.png" alt="image-20240329140925344"  />

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240329141203652.png" alt="image-20240329141203652" style="zoom:50%;" />

![image-20240329142614016](D:\A_Document\Routine_Document\实习\学习\image-20240329142614016.png)

![image-20240329142712356](D:\A_Document\Routine_Document\实习\学习\image-20240329142712356.png)



## HTTPS的加密过程是怎样的？

![](D:\A_Document\Routine_Document\实习\学习\image-20240329142905331.png)

HTTPS的传输过程: 首先是完成TCP三次握手、接着进行SSL/TLS四次握手、最后基于SSL/TLS协商的秘钥将HTTP协议的数据通过秘钥加密进行传输；

HTTPS的加密过程主要指的就是SSL/TLS四次握手过程

SSL/TLS的四次握手过程是:

![image-20240329143517318](D:\A_Document\Routine_Document\实习\学习\image-20240329143517318.png)

## DNS域名解析的过程是怎样的？

![image-20240329144231428](D:\A_Document\Routine_Document\实习\学习\image-20240329144231428.png)

![image-20240329144511175](D:\A_Document\Routine_Document\实习\学习\image-20240329144511175.png)

![image-20240329144603390](D:\A_Document\Routine_Document\实习\学习\image-20240329144603390.png)

## TCP是如何保证可靠传输的？

[『面试问答』：TCP是如何保证可靠传输的？_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1B64y177Yg/?spm_id_from=333.788&vd_source=c4b26319211bc9ccc5ba3a0a22916e39)

![image-20240329144940999](D:\A_Document\Routine_Document\实习\学习\image-20240329144940999.png)

建立连接：通过三次握手建立连接，保证连接实体真实存在
序号机制：保证数据是按序、完整到达
合理分片：tcp会按最大传输单元(MTU)合理分片，接收方会缓存未按序到达的数据，重新
排序后交给应用层。
数据校验：TCP报文头有校验和，用于校验报文是否损坏
超时重传：如果发送一直收不到应答，可能是发送数据丢失，也可能是应答丢失，发送方再等待一段时间之后都会进行重传。
流量控制：当接收方来不及处理发送方的数据，能通过滑动窗口，提示发送方降低发送的速率，防止包丢失。
拥塞控制：网络层拥堵造成的拥塞，包括`慢启动，拥塞避免，快速重传`三种机制

## TCP的流量控制是如何实现的？

[『面试问答』：TCP的流量控制是如何实现的？_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1ju4y1G7wB/?spm_id_from=333.788&vd_source=c4b26319211bc9ccc5ba3a0a22916e39)

![image-20240329145708788](D:\A_Document\Routine_Document\实习\学习\image-20240329145708788.png)

![image-20240329145853642](D:\A_Document\Routine_Document\实习\学习\image-20240329145853642.png)

![image-20240329145915596](D:\A_Document\Routine_Document\实习\学习\image-20240329145915596.png)

## TCP如何唯一确定一条连接?

TCP通过四元组唯一确定一条连接

![image-20240329150204945](D:\A_Document\Routine_Document\实习\学习\image-20240329150204945.png)

## TCP三层握手过程中可以携带数据吗?

先说结论: TCP协议建立连接的三次握手过程中的第三次握手允许携带数据

## TCP和UDP可以同时绑定同一个端口吗?

可以，TCP和UDP是两种不同的传输层协议

![image-20240329150429449](D:\A_Document\Routine_Document\实习\学习\image-20240329150429449.png)

## 客户端的端口可以重复使用吗? 

可以重复使用。TCP通过四元组(源IP地址目的IP地址源端口和目的端口)唯一确定一条连接。只要一个元素不一样就表明不同链接，就不会导致链接冲突



## IP层已经有了分片机制TCP为什么还需要分段?

因为IP层本身没有超时重传机制。超时和重传是由TCP负责的。

当某一个IP分片丢失后, TCP就得重传整个IP报文的所有分片效率太低.所以一般都是UDP使用IP分片.TCP使用分段而不使用分片. 

TCP在建立连接时，会根据网卡MTU的大小协商双方的MSS值。超过MSS时就会先进行分段，由它形成的IP包的长度也就不会大于MTU，也就不用进行IP分片了

![image-20240329151014063](D:\A_Document\Routine_Document\实习\学习\image-20240329151014063.png)
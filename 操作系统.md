# 操作系统 

## 1.面经内问题补充 

### 24、介绍一下几种典型的锁？

[操作系统的各种锁_操作系统中的锁-CSDN博客](https://blog.csdn.net/ZIMAJIM/article/details/108485331)

- 条件变量
  互斥锁用于上锁，条件变量则用于等待。这两种不同类型的同步都非常重要。

​	每个条件变量总是有一个互斥锁与之关联。调用pthread_cond_wait等待某个条件为真时，还会指定其条件变量的地址和所关联的互斥锁的地址。

![image-20240328130222889](C:\Users\Binary\AppData\Roaming\Typora\typora-user-images\image-20240328130222889.png)

- 条件变量和信号量区别
  - 条件变量通常用于线程间的条件等待和通知，用于等待某个条件的满足；而信号量通常用于控制对共享资源的访问，用于资源的申请和释放。
  - 条件变量通常与互斥锁一起使用，以确保在检查条件和等待之间的原子性；而信号量可以单独使用，用于控制对共享资源的访问。
  - 使用条件变量时，等待线程通常在条件满足时被唤醒；而使用信号量时，等待线程在资源可用时被唤醒。

- 为什么条件变量需要和互斥锁配合使用？

  1. 我们所等待的满足条件是多个线程都可以访问的，因而对这个线程保护需要用到锁操作

  2. 一旦一个`线程`对互斥锁进行了加锁，那么其它线程就无法进入临界区，也就没有办法改变所等待的条件，而条件变量可以解锁。

- 条件变量是锁吗
  不是锁, 但是条件变量能够阻塞线程
  使用条件变量 + 互斥量
  互斥量: 保护一块共享数据
  条件变量: 引起阻塞

- 条件变量的两个动作

​	条件不满足, 阻塞线程
​	当条件满足, 通知阻塞的线程开始工作

- **互斥锁、自旋锁和读写锁的区别是什么？**
  - 互斥锁适用于临界区资源`访问时间较长`或存在阻塞操作的情况
  - 自旋锁适用于临界区资源`访问时间短`，且线程竞争不激烈的情况
  - 读写锁适用于读操作远远多于写操作的场景，可以提高并发读性能
  - [『面试问答』：互斥锁、自旋锁和读写锁的区别是什么？_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1Rp4y137fs/?spm_id_from=333.337.search-card.all.click&vd_source=c4b26319211bc9ccc5ba3a0a22916e39)

<img src="D:\A_Document\Routine_Document\实习\学习\image-20240328132329213.png" alt="image-20240328132329213" style="zoom:50%;" />

### 40、Linux中异常和中断的区别

- 软件中断与软中断

  - [【科普小课堂】硬中断和软中断是什么？区别在哪？_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1EB4y1Z71N/?spm_id_from=333.337.search-card.all.click&vd_source=c4b26319211bc9ccc5ba3a0a22916e39)

  1. 软中断发生的时间是由程序控制的,而硬中断发生的时间是随机的 
  2. 软中断是由程序调用发生的,而硬中断是由外设引发的 
  3. 硬件中断处理程序要确保它能快速地完成它的任务,这样程序执行时才不会等侍较长时间



### 42、一个由C/C++编译的程序占用的内存分为哪几个部分？

1、栈区（stack）— 地址向下增长，由编译器自动分配释放，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的数据结构中的栈，先进后出。

2、堆区（heap）— 地址向上增长，一般由程序员分配释放，若程序员不释放，程序结束时可能由OS回收。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表。

3、`全局区（静态区）`（static）—全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域。 - 程序结束后有系统释放

4、`文字常量区` —常量字符串就是放在这里的。程序结束后由系统释放

5、`程序代码区(text)`—存放函数体的二进制代码。







